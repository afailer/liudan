<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        canvas{
            border: 1px solid gray
        }
    </style>
</head>
<body>
    <canvas id="clock" width="500" height="500"></canvas>
</body>
<script>
    function Clock() {
        this.init = () => {
            this.pen = document.getElementById('clock').getContext('2d')
            this.pen.translate(250,250)
            this.drawClock();
            this.fresh();
        }
        this.fresh = function(){
            let that = this;
            setInterval(function(){
                that.pen.clearRect(-250,-250,500,500)
                that.drawClock();
            },1000)
        }
        this.drawClock = function(){
            this.drawTable()
            this.drawCenter()
            this.drawTableMinute()
            this.drawNum()
            this.drawSecond()
            this.drawMinute()
            this.drawHour()
        }
        this.drawTable = function(){
            this.pen.beginPath();
            this.pen.strokeStyle = 'orange'
            this.pen.arc(0,0,100,0,Math.PI*2)
            this.pen.stroke();
        }
        this.drawCenter = function() {
            this.pen.beginPath();
            this.pen.fillStyle = 'red';
            this.pen.arc(0,0,5,0,Math.PI*2);
            this.pen.fill();
        }
        this.drawTableMinute = function(){
            let angle = Math.PI*2/60;
            for(let l=0;l<60;l++){
                this.pen.save()
                this.pen.beginPath();
                this.pen.rotate(angle*l)
                this.pen.moveTo(0,-100);
                if(l%5 == 0){
                    this.pen.lineTo(0,-93);
                }else{
                    this.pen.lineTo(0,-96);
                }
                this.pen.strokeStyle = 'black'
                this.pen.stroke();
                this.pen.restore();
            }
        }
        this.drawNum = function(){
            let angle = Math.PI*2/12;
            for(let l = 1; l<=12; l++){
                this.pen.beginPath()
                this.pen.textAlign = 'center'
                this.pen.textBaseline = 'middle'
                let x = Math.sin(Math.PI/6*l)*85
                let y = Math.cos(Math.PI/6*l)*-85
                this.pen.fillText(l,x,y)
                this.pen.stroke();
            }
        }
        this.drawSecond = function(){
            this.pen.save()
            this.pen.beginPath()
            let second = new Date().getSeconds();
            let angle = Math.PI*2/60
            this.pen.rotate(second*angle)
            this.pen.moveTo(0,0)
            this.pen.lineTo(0,-80)
            this.pen.stroke()
            this.pen.restore()
        }
        this.drawMinute = function(){
            this.pen.save()
            this.pen.beginPath()
            let minute = new Date().getMinutes();
            let second = new Date().getSeconds();
            let angle = Math.PI*2/60
            this.pen.rotate((minute+second/60)*angle)
            this.pen.moveTo(0,0)
            this.pen.lineTo(0,-60)
            this.pen.strokeStyle = 'green'
            this.pen.stroke()
            this.pen.restore()
        }
        this.drawHour = function() {
            this.pen.save()
            this.pen.beginPath()
            let minutes = new Date().getMinutes();
            let hours = new Date().getHours();
            let angle = Math.PI*2/12
            this.pen.rotate((hours+minutes/60)*angle)
            this.pen.moveTo(0,0)
            this.pen.lineTo(0,-40)
            this.pen.strokeStyle = 'purple'
            this.pen.stroke()
            this.pen.restore()
        }
    }
    new Clock().init();
</script>
</html>